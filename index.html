{% extends "base.html" %}

{% block content %}
<div class="app-container">
    <div class="card">
        <h2><i class="fas fa-calculator"></i> Option Calculator</h2>
        
        <form id="optionForm">
            <div class="form-grid">
                <!-- (Previous form fields remain the same) -->
                <div class="form-group">
                    <label for="S">
                        <i class="fas fa-dollar-sign"></i> Underlying Price (S)
                    </label>
                    <input type="number" id="S" step="0.01" value="100" required>
                    <div class="input-hint">Current stock/asset price</div>
                </div>
                
                <div class="form-group">
                    <label for="K">
                        <i class="fas fa-bullseye"></i> Strike Price (K)
                    </label>
                    <input type="number" id="K" step="0.01" value="100" required>
                    <div class="input-hint">Option strike/exercise price</div>
                </div>
                
                <div class="form-group">
                    <label for="r">
                        <i class="fas fa-percentage"></i> Risk-Free Rate (r)
                    </label>
                    <input type="number" id="r" step="0.0001" value="0.05" required>
                    <div class="input-hint">Annual risk-free interest rate</div>
                </div>
                
                <div class="form-group">
                    <label for="T">
                        <i class="fas fa-clock"></i> Time to Maturity (T)
                    </label>
                    <input type="number" id="T" step="0.01" value="1.0" required>
                    <div class="input-hint">Time to expiration in years</div>
                </div>
                
                <div class="form-group">
                    <label for="sigma">
                        <i class="fas fa-chart-bar"></i> Volatility (Ïƒ)
                    </label>
                    <input type="number" id="sigma" step="0.001" value="0.2" required>
                    <div class="input-hint">Annual volatility (e.g., 0.2 for 20%)</div>
                </div>
                
                <!-- NEW: Call/Put Button Selector -->
                <div class="form-group">
                    <label>
                        <i class="fas fa-exchange-alt"></i> Option Type
                    </label>
                    <div class="option-type-selector">
                        <button type="button" 
                                class="option-btn call-btn active" 
                                data-type="C">
                            <i class="fas fa-arrow-up"></i>
                            <span>Call Option</span>
                            <div class="option-description">Right to BUY</div>
                        </button>
                        
                        <button type="button" 
                                class="option-btn put-btn" 
                                data-type="P">
                            <i class="fas fa-arrow-down"></i>
                            <span>Put Option</span>
                            <div class="option-description">Right to SELL</div>
                        </button>
                        
                        <!-- Hidden input to store selected value for form submission -->
                        <input type="hidden" id="optionType" name="type" value="C">
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn btn-calculate">
                <i class="fas fa-calculator"></i> Calculate Option Price
            </button>
        </form>
        
        <!-- (Result card remains the same) -->
        <div id="result" class="result-card hidden">
            <h3><i class="fas fa-coins"></i> Option Price</h3>
            <div class="price-display">
                <span id="optionPrice">-</span>
                <span class="price-label">USD</span>
            </div>
            <p id="formulaInfo" class="formula-info"></p>
            <div id="errorMessage" class="error-message hidden"></div>
        </div>
    </div>
    
    <!-- (Rest of the card remains the same) -->
</div>
{% endblock %}